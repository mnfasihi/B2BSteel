<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B2BSteel | Ù¾Ù„ØªÙØ±Ù… ØªØ®ØµØµÛŒ Ù‚Ø§Ù„Ø¨ Ø¨ØªÙ† Ùˆ Ø³ÙˆÙ„Ù‡</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Vazirmatn', sans-serif; margin: 0; padding: 0; box-sizing: border-box; }
        body { background-color: #f8fafc; color: #333; line-height: 1.6; }
        a { text-decoration: none; color: inherit; }
        button { cursor: pointer; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .navbar { background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1); padding: 1rem 0; position: sticky; top: 0; z-index: 100; }
        .nav-container { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
        .logo { display: flex; align-items: center; gap: 10px; }
        .logo-icon { background: #004586; color: white; width: 45px; height: 45px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; }
        .logo-text h1 { font-size: 1.5rem; color: #004586; font-weight: 700; }
        .logo-text .slogan { font-size: 0.8rem; color: #E6B800; font-weight: 600; }
        .nav-links { display: flex; gap: 25px; align-items: center; flex-wrap: wrap; }
        .nav-link { color: #4b5563; padding: 8px 16px; border-radius: 6px; transition: all 0.3s; font-size: 1.3rem; white-space: nowrap; }
        .nav-link:hover { background: #f3f4f6; color: #004586; }
        .btn { display: inline-block; padding: 10px 20px; border-radius: 6px; font-weight: 600; text-align: center; transition: all 0.3s; border: none; font-size: 1rem; }
        .btn-primary { background: #004586; color: white; }
        .btn-primary:hover { background: #002f5c; transform: translateY(-2px); }
        .btn-success { background: #10b981; color: white; }
        .btn-success:hover { background: #059669; transform: translateY(-2px); }
        .btn-danger { background: #ef4444; color: white; }
        .btn-warning { background: #f59e0b; color: white; }
        .btn-secondary { background: #6b7280; color: white; }
        .btn-sm { padding: 5px 10px; font-size: 0.9rem; }
        .btn-info { background: #3b82f6; color: white; }
        .hero { background: linear-gradient(135deg, #002f5c, #004586); color: white; padding: 4rem 0; text-align: center; }
        .hero h2 { font-size: 2.5rem; margin-bottom: 1rem; font-weight: 700; }
        .hero p { font-size: 1.2rem; margin-bottom: 2rem; max-width: 800px; margin: 0 auto 2rem; }
        .hero-buttons { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; }
        .counters { background: white; padding: 3rem 0; margin: 2rem 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .counters-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; }
        .counter-item { text-align: center; padding: 1.5rem; }
        .counter-number { font-size: 3rem; font-weight: bold; color: #004586; margin-bottom: 0.5rem; }
        .counter-label { font-size: 1.2rem; color: #4b5563; }
        .image-slider { width: 100%; height: 500px; position: relative; overflow: hidden; margin: 2rem 0; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .slider-image { width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0; opacity: 0; transition: opacity 1s ease-in-out; }
        .slider-image.active { opacity: 1; }
        .features { padding: 4rem 0; }
        .section-title { text-align: center; margin-bottom: 3rem; color: #004586; font-size: 2rem; }
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
        .feature-card { background: white; border-radius: 14px; padding: 2rem; box-shadow: 0 4px 8px rgba(0,0,0,0.06); transition: all 0.35s; height: 100%; }
        .feature-card:hover { transform: translateY(-6px); box-shadow: 0 6px 16px rgba(0,0,0,0.1); }
        .feature-icon { width: 70px; height: 70px; border-radius: 50%; background: linear-gradient(135deg, #004586, #E6B800); display: flex; align-items: center; justify-content: center; color: white; font-size: 1.7rem; margin-bottom: 1rem; }
        .auth-container { max-width: 500px; margin: 2rem auto; padding: 2rem; }
        .auth-card { background: white; border-radius: 10px; padding: 2rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .auth-title { text-align: center; margin-bottom: 2rem; color: #004586; }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: #4b5563; }
        .form-control { width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem; }
        .form-control:focus { outline: none; border-color: #004586; }
        .user-type-selector { display: flex; gap: 1rem; margin-bottom: 1.5rem; }
        .user-type-btn { flex: 1; padding: 15px; border: 2px solid #d1d5db; border-radius: 6px; background: white; text-align: center; cursor: pointer; transition: all 0.3s; }
        .user-type-btn.active { border-color: #004586; background: #eff6ff; color: #004586; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center; }
        .modal.active { display: flex; }
        .modal-content { background: white; border-radius: 10px; width: 90%; max-width: 700px; max-height: 90vh; overflow-y: auto; }
        .modal-header { padding: 1.5rem; border-bottom: 1px solid #e5e7eb; display: flex; justify-content: space-between; align-items: center; }
        .modal-header h3 { color: #004586; }
        .close-modal { background: none; border: none; font-size: 1.5rem; color: #6b7280; cursor: pointer; }
        .modal-body { padding: 1.5rem; }
        .modal-footer { padding: 1.5rem; border-top: 1px solid #e5e7eb; display: flex; justify-content: flex-end; gap: 10px; }
        .dashboard { padding: 2rem 0; }
        .dashboard-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; }
        .user-info { display: flex; align-items: center; gap: 15px; }
        .user-avatar { width: 50px; height: 50px; border-radius: 50%; background: #004586; color: white; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; font-weight: bold; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
        .stat-card { background: white; border-radius: 10px; padding: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .stat-card h3 { color: #6b7280; font-size: 0.9rem; margin-bottom: 0.5rem; }
        .stat-card .value { font-size: 2rem; font-weight: bold; color: #004586; }
        .dashboard-actions { display: flex; gap: 10px; margin-bottom: 2rem; flex-wrap: wrap; }
        .requests-list { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .request-item { padding: 1.5rem; border-bottom: 1px solid #e5e7eb; }
        .request-item:last-child { border-bottom: none; }
        .request-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; }
        .request-title { font-size: 1.2rem; color: #004586; }
        .request-badge { padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }
        .badge-open { background: #d1fae5; color: #065f46; }
        .badge-closed { background: #e5e7eb; color: #374151; }
        .badge-success { background: #d1fae5; color: #065f46; }
        .badge-info { background: #dbeafe; color: #004586; }
        .request-details { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1rem; color: #6b7280; font-size: 0.9rem; }
        .request-actions { display: flex; gap: 10px; flex-wrap: wrap; }
        .admin-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
        .admin-stat-card { background: white; border-radius: 10px; padding: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: center; }
        .admin-stat-card h3 { color: #6b7280; font-size: 0.9rem; margin-bottom: 0.5rem; }
        .admin-stat-card .value { font-size: 2rem; font-weight: bold; color: #004586; }
        .admin-actions { display: flex; gap: 10px; margin-bottom: 2rem; flex-wrap: wrap; }
        .shed-page { padding: 3rem 0; background: url('https://5.imimg.com/data5/SELLER/Default/2022/10/LA/DX/AG/58754110/steel-shed-designing.png') no-repeat center center fixed; background-size: cover; min-height: 600px; position: relative; }
        .shed-page::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 1; }
        .shed-page .container { position: relative; z-index: 2; }
        .shed-page h2, .shed-page p { color: white; }
        .shed-options { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem; margin: 3rem 0; }
        .shed-option-card { background: rgba(255,255,255,0.9); border-radius: 10px; padding: 2.5rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1); text-align: center; backdrop-filter: blur(5px); }
        .shed-option-icon { width: 70px; height: 70px; background: #004586; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem; font-size: 1.8rem; color: white; }
        .footer { background: #002f5c; color: #ddd; padding: 4rem 0; margin-top: 4rem; }
        .footer h3 { color: #E6B800; margin-bottom: 1rem; }
        .footer a { color: #ccc; transition: color 0.2s; }
        .footer a:hover { color: #E6B800; }
        .footer-content { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; }
        .footer-bottom { text-align: center; padding-top: 2rem; margin-top: 2rem; border-top: 1px solid #374151; color: #9ca3af; }
        .hidden { display: none !important; }
        @media (max-width: 768px) {
            .nav-container { flex-direction: column; gap: 1rem; }
            .hero h2 { font-size: 2rem; }
            .hero p { font-size: 1rem; }
            .hero-buttons { flex-direction: column; align-items: center; }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="container nav-container">
            <div class="logo">
                <div class="logo-icon"><i class="fas fa-cubes"></i></div>
                <div class="logo-text">
                    <h1>B2BSteel</h1>
                    <div class="slogan">Ø§Ø¹ØªÙ…Ø§Ø¯ - Ø´ÙØ§ÙÛŒØª - Ø³Ø±Ø¹Øª</div>
                </div>
            </div>
            <div class="nav-links">
                <a href="#" class="nav-link" onclick="showPage('home')">Ø®Ø§Ù†Ù‡</a>
                <a href="#" class="nav-link" onclick="showPage('concrete-formwork')">Ù‚Ø§Ù„Ø¨ Ø¨ØªÙ†</a>
                <a href="#" class="nav-link" onclick="showPage('shed')">Ø³ÙˆÙ„Ù‡</a>
                <a href="#" class="nav-link" onclick="showPage('marketing')">Ú†Ø±Ø§ B2BSteelØŸ</a>
                <a href="#" class="nav-link" onclick="showPage('features')">Ø§Ù…Ú©Ø§Ù†Ø§Øª</a>
                <a href="#" class="nav-link" onclick="showPage('how-it-works')">Ù†Ø­ÙˆÙ‡ Ú©Ø§Ø±</a>
                <a href="#" class="nav-link" onclick="showPage('blog')">Ø¨Ù„Ø§Ú¯</a>
                <div id="auth-buttons">
                    <button class="btn btn-primary" onclick="showPage('login')">ÙˆØ±ÙˆØ¯</button>
                    <button class="btn btn-secondary" onclick="showPage('register')">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</button>
                </div>
                <div id="user-menu" class="hidden">
                    <button class="btn btn-primary" onclick="showPage('dashboard')">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</button>
                    <button class="btn btn-danger" onclick="logout()">Ø®Ø±ÙˆØ¬</button>
                </div>
                <div id="seller-formwork-menu" class="hidden">
                    <button class="btn btn-primary" onclick="showPage('seller-formwork-dashboard')">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ù‚Ø§Ù„Ø¨</button>
                    <button class="btn btn-danger" onclick="logout()">Ø®Ø±ÙˆØ¬</button>
                </div>
                <div id="seller-shed-menu" class="hidden">
                    <button class="btn btn-success" onclick="showPage('seller-shed-dashboard')">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ø³ÙˆÙ„Ù‡</button>
                    <button class="btn btn-danger" onclick="logout()">Ø®Ø±ÙˆØ¬</button>
                </div>
                <div id="admin-menu" class="hidden">
                    <button class="btn btn-warning" onclick="showPage('admin')">Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†</button>
                    <button class="btn btn-danger" onclick="logout()">Ø®Ø±ÙˆØ¬</button>
                </div>
            </div>
        </div>
    </nav>

    <main id="pages">
        <!-- ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ø¨Ø§ Ø§Ø³Ù„Ø§ÛŒØ¯Ø´Ùˆ Ø¬Ø¯ÛŒØ¯ -->
        <section id="home-page" class="page">
            <div class="hero fade-in">
                <div class="container">
                    <h2>Ù¾Ù„ØªÙØ±Ù… B2BSteel</h2>
                    <p>Ø§ÙˆÙ„ÛŒÙ† Ù¾Ù„ØªÙØ±Ù… ØªØ®ØµØµÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ø®Ø±ÛŒØ¯Ø§Ø±Ø§Ù† Ùˆ ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù† Ø³ÙˆÙ„Ù‡ Ùˆ Ù‚Ø§Ù„Ø¨ ÙÙ„Ø²ÛŒ Ø¨ØªÙ†</p>
                    <div class="hero-buttons">
                        <button class="btn btn-primary" style="padding: 12px 25px;" onclick="showPage('register')"><i class="fas fa-user-tie"></i> Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø®Ø±ÛŒØ¯Ø§Ø±</button>
                        <button class="btn btn-success" style="padding: 12px 25px;" onclick="showPage('register')"><i class="fas fa-industry"></i> Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… ÙØ±ÙˆØ´Ù†Ø¯Ù‡</button>
                    </div>
                </div>
            </div>
            <div class="counters">
                <div class="container">
                    <div class="counters-grid">
                        <div class="counter-item"><div class="counter-number" id="counter-sellers">Û°</div><div class="counter-label">ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø´Ø¯Ù‡</div></div>
                        <div class="counter-item"><div class="counter-number" id="counter-buyers">Û°</div><div class="counter-label">Ø®Ø±ÛŒØ¯Ø§Ø± Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø´Ø¯Ù‡</div></div>
                        <div class="counter-item"><div class="counter-number" id="counter-transactions">Û°</div><div class="counter-label">ÙØ±ÙˆØ´ Ù†Ù‡Ø§ÛŒÛŒ Ø´Ø¯Ù‡</div></div>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="image-slider">
                    <img src="https://img.edilportale.com/product-thumbs/b_P300-Pilosio-611087-rel51b5c439.jpg" alt="Ù‚Ø§Ù„Ø¨ ÙÙ„Ø²ÛŒ Ø¨ØªÙ†" class="slider-image active">
                    <img src="https://img.edilportale.com/product-thumbs/b_P300-Pilosio-611087-rel991e93b7.jpg" alt="Ù‚Ø§Ù„Ø¨ ÙÙ„Ø²ÛŒ Ø¨ØªÙ†" class="slider-image">
                    <img src="https://khomesteel.com/wp-content/uploads/2022/04/8-basic-knowledge-about-steel-structure.png" alt="Ø³ÙˆÙ„Ù‡ ÙÙ„Ø²ÛŒ" class="slider-image">
                </div>
            </div>
            <div class="features">
                <div class="container">
                    <h2 class="section-title">Ú†Ø±Ø§ B2BSteelØŸ</h2>
                    <div class="features-grid">
                        <div class="feature-card fade-in"><div class="feature-icon"><i class="fas fa-lock"></i></div><h3>Ø­Ø±ÛŒÙ… Ø®ØµÙˆØµÛŒ Ú©Ø§Ù…Ù„Ø§Ù‹ Ù…Ø­ÙÙˆØ¸</h3><p>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù‡ÙˆÛŒØªÛŒ ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù† ØªØ§ Ø²Ù…Ø§Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ù‡Ø§ÛŒÛŒ Ù…Ø®ÙÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ø¯.</p></div>
                        <div class="feature-card fade-in"><div class="feature-icon"><i class="fas fa-chart-line"></i></div><h3>Ø´ÙØ§ÙÛŒØª Ú©Ø§Ù…Ù„ Ù‚ÛŒÙ…Øª</h3><p>Ø®Ø±ÛŒØ¯Ø§Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ ØªÙ…Ø§Ù… Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª Ù‚ÛŒÙ…Øª Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø´ÙØ§Ù Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ùˆ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ú©Ù†Ø¯.</p></div>
                        <div class="feature-card fade-in"><div class="feature-icon"><i class="fas fa-handshake"></i></div><h3>Ø§Ø±ØªØ¨Ø§Ø· Ù…Ø³ØªÙ‚ÛŒÙ… Ùˆ Ø³Ø±ÛŒØ¹</h3><p>Ø§Ø±ØªØ¨Ø§Ø· Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨ÛŒÙ† Ø®Ø±ÛŒØ¯Ø§Ø±Ø§Ù† Ùˆ ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù† Ù…Ø¹ØªØ¨Ø± Ø¨Ø¯ÙˆÙ† ÙˆØ§Ø³Ø·Ù‡.</p></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ØµÙØ­Ù‡ Ù‚Ø§Ù„Ø¨ Ø¨ØªÙ† -->
        <section id="concrete-formwork-page" class="page hidden">
            <div class="hero fade-in">
                <div class="container">
                    <h2>Ø¨Ø®Ø´ Ù‚Ø§Ù„Ø¨ ÙÙ„Ø²ÛŒ Ø¨ØªÙ†</h2>
                    <p>Ø®Ø±ÛŒØ¯ Ùˆ ÙØ±ÙˆØ´ ØªØ®ØµØµÛŒ Ø§Ù†ÙˆØ§Ø¹ Ù‚Ø§Ù„Ø¨ ÙÙ„Ø²ÛŒ Ø¨ØªÙ†</p>
                    <div class="hero-buttons">
                        <button class="btn btn-primary" onclick="showPage('register')">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø®Ø±ÛŒØ¯Ø§Ø±</button>
                        <button class="btn btn-success" onclick="showPage('register')">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… ÙØ±ÙˆØ´Ù†Ø¯Ù‡</button>
                    </div>
                </div>
            </div>
            <div class="container" style="padding: 4rem 0;">
                <div class="features-grid">
                    <div class="feature-card fade-in"><div class="feature-icon"><i class="fas fa-cube"></i></div><h3>Ù‚Ø§Ù„Ø¨ Ù…Ø¯ÙˆÙ„Ø§Ø±</h3><p>Ù‚Ø§Ù„Ø¨â€ŒØ¨Ù†Ø¯ÛŒ Ø³Ø±ÛŒØ¹ Ùˆ Ø¨Ø§ Ú©ÛŒÙÛŒØª Ø¨Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø³Ø§Ø®ØªÙ…Ø§Ù†ÛŒ</p></div>
                    <div class="feature-card fade-in"><div class="feature-icon"><i class="fas fa-building"></i></div><h3>Ù‚Ø§Ù„Ø¨ Ø¯ÛŒÙˆØ§Ø± Ùˆ Ø³ØªÙˆÙ†</h3><p>Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØµÙˆØµ Ø¯ÛŒÙˆØ§Ø± Ùˆ Ø³ØªÙˆÙ† Ø¨Ø§ Ù…Ù‚Ø§ÙˆÙ…Øª Ø¨Ø§Ù„Ø§ Ùˆ Ø¯ÙˆØ§Ù… Ø·ÙˆÙ„Ø§Ù†ÛŒ</p></div>
                    <div class="feature-card fade-in"><div class="feature-icon"><i class="fas fa-bridge"></i></div><h3>Ù‚Ø§Ù„Ø¨ ØªÙˆÙ†Ù„ Ùˆ Ù¾Ù„</h3><p>Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ÛŒ ØªØ®ØµØµÛŒ Ø¨Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯ Ø¹Ù…Ø±Ø§Ù†ÛŒ</p></div>
                </div>
                <div style="text-align: center; margin-top: 3rem;">
                    <button class="btn btn-primary" style="padding: 15px 40px; font-size: 1.2rem;" onclick="enterConcreteFormworkSystem()"><i class="fas fa-sign-in-alt"></i> ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… Ù‚Ø§Ù„Ø¨ Ø¨ØªÙ†</button>
                </div>
            </div>
        </section>

        <!-- ØµÙØ­Ù‡ Ø³ÙˆÙ„Ù‡ Ø¨Ø§ Ø¨Ú©â€ŒÚ¯Ø±Ø§Ù†Ø¯ -->
        <section id="shed-page" class="page hidden">
            <div class="shed-page">
                <div class="container">
                    <h2 class="section-title" style="color: white;">Ø¨Ø®Ø´ Ø³ÙˆÙ„Ù‡</h2>
                    <p style="color: white; text-align: center; max-width: 800px; margin: 0 auto 2rem;">
                        Ø§Ù†ØªØ®Ø§Ø¨ Ø®Ø¯Ù…Ø§Øª Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø®ÙˆØ¯ Ø¯Ø± Ø­ÙˆØ²Ù‡ Ø³ÙˆÙ„Ù‡
                    </p>
                    <div class="shed-options">
                        <div class="shed-option-card">
                            <div class="shed-option-icon"><i class="fas fa-plus-circle"></i></div>
                            <h3 style="color: #004586; margin-bottom: 1rem;">Ø³ÙˆÙ„Ù‡ Ù†Ùˆ</h3>
                            <button class="btn btn-primary" onclick="showPage('new-shed-request')" style="width: 100%;"><i class="fas fa-file-alt"></i> Ù¾Ø± Ú©Ø±Ø¯Ù† Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ø³ÙˆÙ„Ù‡ Ù†Ùˆ</button>
                        </div>
                        <div class="shed-option-card">
                            <div class="shed-option-icon"><i class="fas fa-warehouse"></i></div>
                            <h3 style="color: #004586; margin-bottom: 1rem;">Ø³ÙˆÙ„Ù‡ Ø¯Ø³Øª Ø¯ÙˆÙ…</h3>
                            <button class="btn btn-success" onclick="loadSecondhandSheds()" style="width: 100%;"><i class="fas fa-search"></i> Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¢Ú¯Ù‡ÛŒâ€ŒÙ‡Ø§</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ØµÙØ­Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø³ÙˆÙ„Ù‡ Ù†Ùˆ (Ú©Ø§Ù…Ù„) -->
        <section id="new-shed-request-page" class="page hidden">
            <div class="container">
                <div style="max-width: 800px; margin: 0 auto; padding: 2rem 0;">
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <h1 style="color: #004586; margin-bottom: 0.5rem;">Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø³ÙˆÙ„Ù‡ Ù†Ùˆ</h1>
                        <p style="color: #6b7280;">Ù„Ø·ÙØ§Ù‹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø±ÙˆÚ˜Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§ Ø¯Ù‚Øª ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</p>
                    </div>
                    <form id="new-shed-form">
                        <!-- Ø§Ø¨Ø¹Ø§Ø¯ Ø³ÙˆÙ„Ù‡ -->
                        <div style="background: white; border-radius: 10px; padding: 2rem; margin-bottom: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <h3 style="color: #004586; margin-bottom: 1.5rem;"><i class="fas fa-ruler-combined"></i> Ø§Ø¨Ø¹Ø§Ø¯ Ø³ÙˆÙ„Ù‡</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                                <div class="form-group"><label for="shed-length">Ø·ÙˆÙ„ (Ù…ØªØ±)</label><input type="number" id="shed-length" class="form-control" required min="10" step="0.5"></div>
                                <div class="form-group"><label for="shed-width">Ø¹Ø±Ø¶ (Ù…ØªØ±)</label><input type="number" id="shed-width" class="form-control" required min="10" step="0.5"></div>
                                <div class="form-group"><label for="shed-height">Ø§Ø±ØªÙØ§Ø¹ (Ù…ØªØ±)</label><input type="number" id="shed-height" class="form-control" required min="4" step="0.5"></div>
                            </div>
                        </div>
                        <!-- Ù†Ù‚Ø´Ù‡ Ø³Ø§Ø²Ù‡ -->
                        <div style="background: white; border-radius: 10px; padding: 2rem; margin-bottom: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <h3 style="color: #004586; margin-bottom: 1.5rem;"><i class="fas fa-drafting-compass"></i> Ù†Ù‚Ø´Ù‡ Ø³Ø§Ø²Ù‡</h3>
                            <div class="form-group">
                                <label>Ø¢ÛŒØ§ ÙØ§ÛŒÙ„ Ù†Ù‚Ø´Ù‡ Ø³Ø§Ø²Ù‡ Ø¯Ø§Ø±ÛŒØ¯ØŸ</label>
                                <div style="display: flex; gap: 1.5rem;">
                                    <label><input type="radio" name="has-drawing" value="yes" onclick="toggleDrawingUpload(true)"> Ø¨Ù„Ù‡</label>
                                    <label><input type="radio" name="has-drawing" value="no" checked onclick="toggleDrawingUpload(false)"> Ø®ÛŒØ±</label>
                                </div>
                            </div>
                            <div id="drawing-upload-section" class="hidden">
                                <div class="form-group"><label for="shed-drawing">Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ Ù†Ù‚Ø´Ù‡</label><input type="file" id="shed-drawing" class="form-control" accept=".pdf,.dwg,.jpg,.png"></div>
                            </div>
                        </div>
                        <!-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø±ÙˆÚ˜Ù‡ -->
                        <div style="background: white; border-radius: 10px; padding: 2rem; margin-bottom: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <h3 style="color: #004586; margin-bottom: 1.5rem;"><i class="fas fa-info-circle"></i> Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø±ÙˆÚ˜Ù‡</h3>
                            <div class="form-group"><label for="shed-usage">Ú©Ø§Ø±Ú©Ø±Ø¯ Ø³ÙˆÙ„Ù‡</label><textarea id="shed-usage" class="form-control" rows="3" required></textarea></div>
                            <div class="form-group"><label for="shed-location">Ù…Ø­Ù„ Ù†ØµØ¨</label><input type="text" id="shed-location" class="form-control" required></div>
                        </div>
                        <!-- Ø¬Ø±Ø«Ù‚ÛŒÙ„ Ø³Ù‚ÙÛŒ -->
                        <div style="background: white; border-radius: 10px; padding: 2rem; margin-bottom: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <h3 style="color: #004586; margin-bottom: 1.5rem;"><i class="fas fa-crane"></i> Ø¬Ø±Ø«Ù‚ÛŒÙ„ Ø³Ù‚ÙÛŒ</h3>
                            <div class="form-group">
                                <label>Ø¢ÛŒØ§ Ø¨Ù‡ Ø¬Ø±Ø«Ù‚ÛŒÙ„ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯ØŸ</label>
                                <div style="display: flex; gap: 1.5rem;">
                                    <label><input type="radio" name="needs-crane" value="yes" onclick="toggleCraneDetails(true)"> Ø¨Ù„Ù‡</label>
                                    <label><input type="radio" name="needs-crane" value="no" checked onclick="toggleCraneDetails(false)"> Ø®ÛŒØ±</label>
                                </div>
                            </div>
                            <div id="crane-details-section" class="hidden">
                                <div class="form-group"><label for="crane-tonnage">ØªÙ†Ø§Ú˜ (ØªÙ†)</label><input type="number" id="crane-tonnage" class="form-control" min="1" step="0.5"></div>
                            </div>
                        </div>
                        <!-- ÙÙˆÙ†Ø¯Ø§Ø³ÛŒÙˆÙ† -->
                        <div style="background: white; border-radius: 10px; padding: 2rem; margin-bottom: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <h3 style="color: #004586; margin-bottom: 1.5rem;"><i class="fas fa-layer-group"></i> ÙÙˆÙ†Ø¯Ø§Ø³ÛŒÙˆÙ†</h3>
                            <div class="form-group">
                                <label>Ø¢ÛŒØ§ ÙÙˆÙ†Ø¯Ø§Ø³ÛŒÙˆÙ† Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³ØªØŸ</label>
                                <div style="display: flex; gap: 1.5rem;">
                                    <label><input type="radio" name="foundation" value="yes"> Ø¨Ù„Ù‡</label>
                                    <label><input type="radio" name="foundation" value="no" checked> Ø®ÛŒØ±</label>
                                </div>
                            </div>
                        </div>
                        <!-- Ø³Ù†Ø¯Ø¨Ù„Ø§Ø³Øª Ùˆ Ø±Ù†Ú¯ -->
                        <div style="background: white; border-radius: 10px; padding: 2rem; margin-bottom: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <h3 style="color: #004586; margin-bottom: 1.5rem;"><i class="fas fa-paint-roller"></i> Ø³Ù†Ø¯Ø¨Ù„Ø§Ø³Øª Ùˆ Ø±Ù†Ú¯</h3>
                            <div class="form-group">
                                <label>Ø¢ÛŒØ§ Ø¨Ù‡ Ø³Ù†Ø¯Ø¨Ù„Ø§Ø³Øª Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯ØŸ</label>
                                <div style="display: flex; gap: 1.5rem;">
                                    <label><input type="radio" name="sandblast" value="yes"> Ø¨Ù„Ù‡</label>
                                    <label><input type="radio" name="sandblast" value="no" checked> Ø®ÛŒØ±</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="paint-type">Ù†ÙˆØ¹ Ø±Ù†Ú¯</label>
                                <select id="paint-type" class="form-control" onchange="toggleOtherPaintType()">
                                    <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
                                    <option value="Ø¶Ø¯ Ø²Ù†Ú¯">Ø¶Ø¯ Ø²Ù†Ú¯</option>
                                    <option value="Ø¢Ù„Ú©ÛŒØ¯ÛŒ">Ø¢Ù„Ú©ÛŒØ¯ÛŒ</option>
                                    <option value="Ø²ÛŒÙ†Ú© Ø±ÛŒÚ†">Ø²ÛŒÙ†Ú© Ø±ÛŒÚ†</option>
                                    <option value="Ø§Ù¾ÙˆÚ©Ø³ÛŒ">Ø§Ù¾ÙˆÚ©Ø³ÛŒ</option>
                                    <option value="other">Ø³Ø§ÛŒØ±</option>
                                </select>
                                <input type="text" id="other-paint-type" class="form-control hidden" placeholder="Ù†ÙˆØ¹ Ø±Ù†Ú¯" style="margin-top: 10px;">
                            </div>
                            <div class="form-group"><label for="paint-thickness">Ø¶Ø®Ø§Ù…Øª Ø±Ù†Ú¯ (Ù…ÛŒÚ©Ø±ÙˆÙ†)</label><input type="number" id="paint-thickness" class="form-control" value="50" min="20" max="200"></div>
                        </div>
                        <!-- Ù…Ø³Ø¦ÙˆÙ„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø®Ø±ÛŒØ¯Ø§Ø± -->
                        <div style="background: white; border-radius: 10px; padding: 2rem; margin-bottom: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <h3 style="color: #004586; margin-bottom: 1.5rem;"><i class="fas fa-tasks"></i> Ù…Ø³Ø¦ÙˆÙ„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø®Ø±ÛŒØ¯Ø§Ø±</h3>
                            <div style="display: flex; gap: 1.5rem;">
                                <label><input type="checkbox" name="responsibility" value="steel"> ØªÙ‡ÛŒÙ‡ Ø¢Ù‡Ù† Ø¢Ù„Ø§Øª</label>
                                <label><input type="checkbox" name="responsibility" value="bolts"> ØªÙ‡ÛŒÙ‡ Ù¾ÛŒÚ† Ùˆ Ù…Ù‡Ø±Ù‡</label>
                                <label><input type="checkbox" name="responsibility" value="transport"> Ø­Ù…Ù„</label>
                            </div>
                        </div>
                        <!-- ÙˆØ²Ù† Ùˆ Ù‚ÛŒÙ…Øª -->
                        <div style="background: white; border-radius: 10px; padding: 2rem; margin-bottom: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <h3 style="color: #004586; margin-bottom: 1.5rem;"><i class="fas fa-balance-scale"></i> ÙˆØ²Ù† Ùˆ Ù‚ÛŒÙ…Øª</h3>
                            <div class="form-group"><label for="shed-weight">ÙˆØ²Ù† Ø³ÙˆÙ„Ù‡ (ØªÙ†) - Ø¯Ø± ØµÙˆØ±Øª Ø§Ø·Ù„Ø§Ø¹</label><input type="number" id="shed-weight" class="form-control" min="1" step="0.1"></div>
                            <div class="form-group">
                                <label>Ù†ÙˆØ¹ Ù‚ÛŒÙ…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ</label>
                                <div style="display: flex; gap: 1.5rem;">
                                    <label><input type="radio" name="price-type" value="estimated" checked> Ù‚ÛŒÙ…Øª Ø­Ø¯ÙˆØ¯ÛŒ</label>
                                    <label><input type="radio" name="price-type" value="exact"> Ù‚ÛŒÙ…Øª Ø¯Ù‚ÛŒÙ‚</label>
                                </div>
                            </div>
                        </div>
                        <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem;">
                            <button type="button" class="btn btn-secondary" onclick="showPage('shed')">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
                            <button type="submit" class="btn btn-primary">Ø§Ø±Ø³Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- ØµÙØ­Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… -->
        <section id="register-page" class="page hidden">
            <div class="auth-container">
                <div class="auth-card">
                    <h2 class="auth-title">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¯Ø± B2BSteel</h2>
                    <div class="user-type-selector" id="user-type-main-selector">
                        <div class="user-type-btn active" data-type="buyer" onclick="selectUserType('buyer')">Ø®Ø±ÛŒØ¯Ø§Ø±</div>
                        <div class="user-type-btn" data-type="seller" onclick="selectUserType('seller')">ÙØ±ÙˆØ´Ù†Ø¯Ù‡</div>
                    </div>
                    <div class="form-group">
                        <label>Ù†ÙˆØ¹ Ú©Ø§Ø±Ø¨Ø±</label>
                        <div class="user-type-selector" id="user-legal-type-selector">
                            <div class="user-type-btn" data-type="individual" onclick="selectUserLegalType('individual')">Ø´Ø®Øµ Ø­Ù‚ÛŒÙ‚ÛŒ</div>
                            <div class="user-type-btn active" data-type="company" onclick="selectUserLegalType('company')">Ø´Ø±Ú©Øª/Ø­Ù‚ÙˆÙ‚ÛŒ</div>
                        </div>
                    </div>
                    <div id="seller-type-section" class="form-group hidden">
                        <label>Ù†ÙˆØ¹ ÙØ±ÙˆØ´Ù†Ø¯Ù‡</label>
                        <div class="user-type-selector" id="seller-type-selector">
                            <div class="user-type-btn active" data-type="formwork" onclick="selectSellerType('formwork')">Ù‚Ø§Ù„Ø¨</div>
                            <div class="user-type-btn" data-type="shed" onclick="selectSellerType('shed')">Ø³ÙˆÙ„Ù‡</div>
                        </div>
                    </div>
                    <form id="register-form">
                        <div class="form-group"><label for="reg-email">Ø§ÛŒÙ…ÛŒÙ„</label><input type="email" id="reg-email" class="form-control" required></div>
                        <div class="form-group"><label for="reg-password">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label><input type="password" id="reg-password" class="form-control" required></div>
                        <div class="form-group"><label for="reg-password-confirm">ØªÚ©Ø±Ø§Ø± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label><input type="password" id="reg-password-confirm" class="form-control" required></div>
                        <div id="company-fields">
                            <div class="form-group"><label for="reg-company" id="company-label">Ù†Ø§Ù… Ø´Ø±Ú©Øª</label><input type="text" id="reg-company" class="form-control" placeholder="Ø§Ø®ØªÛŒØ§Ø±ÛŒ"></div>
                        </div>
                        <div class="form-group"><label for="reg-contact">Ù†Ø§Ù… Ø´Ø®Øµ Ø±Ø§Ø¨Ø·</label><input type="text" id="reg-contact" class="form-control" required></div>
                        <div class="form-group"><label for="reg-phone">ØªÙ„ÙÙ† ØªÙ…Ø§Ø³</label><input type="tel" id="reg-phone" class="form-control" required></div>
                        <div class="form-group"><label style="display: flex; align-items: center; gap: 10px;"><input type="checkbox" id="accept-terms" required> <a href="#" onclick="showPage('terms'); return false;">Ù‚ÙˆØ§Ù†ÛŒÙ†</a> Ø±Ø§ Ù…ÛŒâ€ŒÙ¾Ø°ÛŒØ±Ù….</label></div>
                        <div id="register-error" style="color: red; margin-bottom: 1rem;"></div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 15px;">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</button>
                    </form>
                    <p style="text-align: center; margin-top: 1rem;">Ù‚Ø¨Ù„Ø§Ù‹ Ø­Ø³Ø§Ø¨ Ø¯Ø§Ø±ÛŒØ¯ØŸ <a href="#" onclick="showPage('login')">ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯</a></p>
                </div>
            </div>
        </section>

        <!-- ØµÙØ­Ù‡ ÙˆØ±ÙˆØ¯ -->
        <section id="login-page" class="page hidden">
            <div class="auth-container">
                <div class="auth-card">
                    <h2 class="auth-title">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h2>
                    <form id="login-form">
                        <div class="form-group"><label for="login-email">Ø§ÛŒÙ…ÛŒÙ„</label><input type="email" id="login-email" class="form-control" required></div>
                        <div class="form-group"><label for="login-password">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label><input type="password" id="login-password" class="form-control" required></div>
                        <div id="login-error" style="color: red; margin-bottom: 1rem;"></div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 15px;">ÙˆØ±ÙˆØ¯</button>
                    </form>
                    <p style="text-align: center; margin-top: 1rem;">Ø­Ø³Ø§Ø¨ Ù†Ø¯Ø§Ø±ÛŒØ¯ØŸ <a href="#" onclick="showPage('register')">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ù†ÛŒØ¯</a></p>
                </div>
            </div>
        </section>

        <!-- ØµÙØ­Ù‡ Ù‚ÙˆØ§Ù†ÛŒÙ† -->
        <section id="terms-page" class="page hidden">
            <div class="container" style="max-width: 800px; margin: 2rem auto; padding: 2rem; background: white; border-radius: 10px;">
                <h2 class="section-title">Ù‚ÙˆØ§Ù†ÛŒÙ† Ùˆ Ø´Ø±Ø§ÛŒØ·</h2>
                <p>Ù¾Ù„ØªÙØ±Ù… B2BSteel ØµØ±ÙØ§Ù‹ Ù†Ù‚Ø´ Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø±Ø¯ Ùˆ Ù…Ø³Ø¦ÙˆÙ„ÛŒØªÛŒ Ø¯Ø± Ù‚Ø¨Ø§Ù„ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù†Ø¯Ø§Ø±Ø¯.</p>
                <p>Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù…ØªØ¹Ù‡Ø¯ Ø¨Ù‡ Ø§Ø±Ø§Ø¦Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØµØ­ÛŒØ­ Ù‡Ø³ØªÙ†Ø¯.</p>
            </div>
        </section>

        <!-- ØµÙØ­Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø®Ø±ÛŒØ¯Ø§Ø± (Ø§ØµÙ„Ø§Ø­ Ø´Ø¯Ù‡) -->
        <section id="dashboard-page" class="page hidden">
            <div class="container dashboard">
                <div class="dashboard-header">
                    <div class="user-info">
                        <div class="user-avatar" id="user-avatar">?</div>
                        <div>
                            <h2 id="user-name">Ú©Ø§Ø±Ø¨Ø± Ø¹Ø²ÛŒØ²</h2>
                            <p id="user-type">Ù†ÙˆØ¹ Ø­Ø³Ø§Ø¨: Ø®Ø±ÛŒØ¯Ø§Ø±</p>
                        </div>
                    </div>
                    <div id="buyer-actions">
                        <button class="btn btn-primary" onclick="showNewConcreteRequestModal()">
                            <i class="fas fa-plus"></i> Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù‚Ø§Ù„Ø¨ Ø¬Ø¯ÛŒØ¯
                        </button>
                        <button class="btn btn-success" onclick="showNewShedRequestModal()">
                            <i class="fas fa-plus"></i> Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø³ÙˆÙ„Ù‡ Ø¬Ø¯ÛŒØ¯
                        </button>
                    </div>
                </div>
                <div class="stats-grid" id="dashboard-stats"></div>
                <div class="dashboard-actions">
                    <button class="btn btn-secondary" onclick="loadBuyerConcreteRequests()">Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù‚Ø§Ù„Ø¨</button>
                    <button class="btn btn-secondary" onclick="loadBuyerShedRequests()">Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø³ÙˆÙ„Ù‡</button>
                </div>
                <div id="dashboard-content">
                    <div class="requests-list">
                        <div class="request-item"><p style="text-align: center; color: #6b7280;">Ú¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</p></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ØµÙØ­Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ù‚Ø§Ù„Ø¨ (Ø¨Ø§ ÙØ±Ù… Ù¾Ø§Ø³Ø® pro) -->
        <section id="seller-formwork-dashboard-page" class="page hidden">
            <div class="container dashboard">
                <div class="dashboard-header">
                    <div class="user-info">
                        <div class="user-avatar">ğŸ—ï¸</div>
                        <div>
                            <h2>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ù‚Ø§Ù„Ø¨</h2>
                            <p id="seller-formwork-name">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p>
                        </div>
                    </div>
                    <button class="btn btn-danger" onclick="logout()">Ø®Ø±ÙˆØ¬</button>
                </div>
                <div class="stats-grid" id="seller-formwork-stats"></div>
                <div class="dashboard-actions">
                    <button class="btn btn-secondary" onclick="loadFormworkSellerOpenRequests()">Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø² Ù‚Ø§Ù„Ø¨</button>
                    <button class="btn btn-secondary" onclick="loadFormworkSellerBids()">Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ù‡Ø§ÛŒ Ù…Ù†</button>
                </div>
                <div id="seller-formwork-dashboard-content">
                    <div class="requests-list">
                        <div class="request-item"><p style="text-align: center; color: #6b7280;">Ú¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</p></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ØµÙØ­Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ø³ÙˆÙ„Ù‡ (Ø¨Ø§ ÙØ±Ù… Ù¾Ø§Ø³Ø® pro) -->
        <section id="seller-shed-dashboard-page" class="page hidden">
            <div class="container dashboard">
                <div class="dashboard-header">
                    <div class="user-info">
                        <div class="user-avatar">ğŸ­</div>
                        <div>
                            <h2>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ø³ÙˆÙ„Ù‡</h2>
                            <p id="seller-shed-name">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p>
                        </div>
                    </div>
                    <button class="btn btn-danger" onclick="logout()">Ø®Ø±ÙˆØ¬</button>
                </div>
                <div class="stats-grid" id="seller-shed-stats"></div>
                <div class="dashboard-actions">
                    <button class="btn btn-secondary" onclick="loadShedSellerOpenRequests()">Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø² Ø³ÙˆÙ„Ù‡</button>
                    <button class="btn btn-secondary" onclick="loadShedSellerBids()">Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ù‡Ø§ÛŒ Ù…Ù†</button>
                </div>
                <div id="seller-shed-dashboard-content">
                    <div class="requests-list">
                        <div class="request-item"><p style="text-align: center; color: #6b7280;">Ú¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</p></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ØµÙØ­Ù‡ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† (Ø¬Ø¯ÛŒØ¯) -->
        <section id="admin-page" class="page hidden">
            <div class="container admin-panel">
                <h2 class="section-title">Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø¯Ù…ÛŒÙ†</h2>
                <div class="admin-stats">
                    <div class="admin-stat-card"><h3>Ú©Ù„ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</h3><div class="value" id="admin-total-users">Û°</div></div>
                    <div class="admin-stat-card"><h3>Ø®Ø±ÛŒØ¯Ø§Ø±Ø§Ù†</h3><div class="value" id="admin-total-buyers">Û°</div></div>
                    <div class="admin-stat-card"><h3>ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù† Ù‚Ø§Ù„Ø¨</h3><div class="value" id="admin-formwork-sellers">Û°</div></div>
                    <div class="admin-stat-card"><h3>ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù† Ø³ÙˆÙ„Ù‡</h3><div class="value" id="admin-shed-sellers">Û°</div></div>
                    <div class="admin-stat-card"><h3>Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù‚Ø§Ù„Ø¨</h3><div class="value" id="admin-concrete-requests">Û°</div></div>
                    <div class="admin-stat-card"><h3>Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø³ÙˆÙ„Ù‡</h3><div class="value" id="admin-shed-requests">Û°</div></div>
                </div>
                <div class="admin-actions">
                    <button class="btn btn-primary" onclick="loadAllUsers()">Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</button>
                    <button class="btn btn-primary" onclick="loadAllConcreteRequestsAdmin()">Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù‚Ø§Ù„Ø¨ Ø¨ØªÙ†</button>
                    <button class="btn btn-primary" onclick="loadAllShedRequestsAdmin()">Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø³ÙˆÙ„Ù‡</button>
                    <button class="btn btn-primary" onclick="loadAllTransactionsAdmin()">Ù…Ø´Ø§Ù‡Ø¯Ù‡ ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§</button>
                </div>
                <div id="admin-content">
                    <div class="requests-list">
                        <div class="request-item"><p style="text-align: center; color: #6b7280;">Ú¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</p></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ø³Ø§ÛŒØ± ØµÙØ­Ø§Øª (Ù…ÙˆÙ‚Øª) -->
        <section id="blog-page" class="page hidden"><div class="hero"><div class="container"><h2>Ø¨Ù„Ø§Ú¯</h2></div></div></section>
        <section id="marketing-page" class="page hidden"><div class="hero"><div class="container"><h2>Ú†Ø±Ø§ B2BSteelØŸ</h2></div></div></section>
        <section id="features-page" class="page hidden"><div class="hero"><div class="container"><h2>Ø§Ù…Ú©Ø§Ù†Ø§Øª</h2></div></div></section>
        <section id="how-it-works-page" class="page hidden"><div class="hero"><div class="container"><h2>Ù†Ø­ÙˆÙ‡ Ú©Ø§Ø±</h2></div></div></section>
        <section id="secondhand-shed-page" class="page hidden"><div class="hero"><div class="container"><h2>Ø³ÙˆÙ„Ù‡ Ø¯Ø³Øª Ø¯ÙˆÙ…</h2></div></div></section>
    </main>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù‚Ø§Ù„Ø¨ Ø¬Ø¯ÛŒØ¯ -->
    <div id="new-concrete-request-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h3>Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù‚Ø§Ù„Ø¨ Ø¬Ø¯ÛŒØ¯</h3><button class="close-modal" onclick="closeModal('new-concrete-request-modal')">&times;</button></div>
            <div class="modal-body">
                <form id="new-concrete-request-form">
                    <div class="form-group"><label for="concrete-title">Ø¹Ù†ÙˆØ§Ù†</label><input type="text" id="concrete-title" class="form-control" required></div>
                    <div class="form-group"><label for="concrete-description">ØªÙˆØ¶ÛŒØ­Ø§Øª</label><textarea id="concrete-description" class="form-control" rows="3" required></textarea></div>
                    <div class="form-group"><label for="concrete-location">Ù…Ø­Ù„ Ù¾Ø±ÙˆÚ˜Ù‡</label><input type="text" id="concrete-location" class="form-control" required></div>
                    <div class="form-group"><label for="concrete-deadline">Ù…Ù‡Ù„Øª</label><input type="date" id="concrete-deadline" class="form-control" required></div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('new-concrete-request-modal')">Ø§Ù†ØµØ±Ø§Ù</button>
                <button class="btn btn-primary" onclick="submitNewConcreteRequest()">Ø«Ø¨Øª</button>
            </div>
        </div>
    </div>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø³ÙˆÙ„Ù‡ Ø¬Ø¯ÛŒØ¯ -->
    <div id="new-shed-request-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h3>Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø³ÙˆÙ„Ù‡ Ø¬Ø¯ÛŒØ¯</h3><button class="close-modal" onclick="closeModal('new-shed-request-modal')">&times;</button></div>
            <div class="modal-body">
                <form id="new-shed-request-form">
                    <div class="form-group"><label for="shed-req-length">Ø·ÙˆÙ„ (Ù…ØªØ±)</label><input type="number" id="shed-req-length" class="form-control" required></div>
                    <div class="form-group"><label for="shed-req-width">Ø¹Ø±Ø¶ (Ù…ØªØ±)</label><input type="number" id="shed-req-width" class="form-control" required></div>
                    <div class="form-group"><label for="shed-req-height">Ø§Ø±ØªÙØ§Ø¹ (Ù…ØªØ±)</label><input type="number" id="shed-req-height" class="form-control" required></div>
                    <div class="form-group"><label for="shed-req-usage">Ú©Ø§Ø±Ú©Ø±Ø¯</label><textarea id="shed-req-usage" class="form-control" rows="2" required></textarea></div>
                    <div class="form-group"><label for="shed-req-location">Ù…Ø­Ù„ Ù†ØµØ¨</label><input type="text" id="shed-req-location" class="form-control" required></div>
                    <div class="form-group"><label for="shed-req-deadline">Ù…Ù‡Ù„Øª</label><input type="date" id="shed-req-deadline" class="form-control" required></div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('new-shed-request-modal')">Ø§Ù†ØµØ±Ø§Ù</button>
                <button class="btn btn-primary" onclick="submitNewShedRequest()">Ø«Ø¨Øª</button>
            </div>
        </div>
    </div>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ (Ø¨Ø±Ø§ÛŒ ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ù‚Ø§Ù„Ø¨) -->
    <div id="submit-bid-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h3>Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù‚ÛŒÙ…Øª (Ù‚Ø§Ù„Ø¨)</h3><button class="close-modal" onclick="closeModal('submit-bid-modal')">&times;</button></div>
            <div class="modal-body">
                <div id="bid-project-info" style="background: #eff6ff; padding: 10px; border-radius: 6px; margin-bottom: 20px;"></div>
                <form id="submit-bid-form">
                    <input type="hidden" id="bid-request-id">
                    <div class="form-group"><label for="bid-price">Ù‚ÛŒÙ…Øª (Ø±ÛŒØ§Ù„)</label><input type="text" id="bid-price" class="form-control" required oninput="formatPriceInput(this)"></div>
                    <div class="form-group"><label for="bid-delivery">Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„ (Ø±ÙˆØ²)</label><input type="number" id="bid-delivery" class="form-control" required></div>
                    <div class="form-group"><label for="bid-warranty">Ú¯Ø§Ø±Ø§Ù†ØªÛŒ (Ù…Ø§Ù‡)</label><input type="number" id="bid-warranty" class="form-control" value="12"></div>
                    <div class="form-group"><label for="bid-notes">ØªÙˆØ¶ÛŒØ­Ø§Øª</label><textarea id="bid-notes" class="form-control" rows="3"></textarea></div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('submit-bid-modal')">Ø§Ù†ØµØ±Ø§Ù</button>
                <button class="btn btn-primary" onclick="submitBid()">Ø§Ø±Ø³Ø§Ù„</button>
            </div>
        </div>
    </div>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø³ÙˆÙ„Ù‡ -->
    <div id="submit-shed-bid-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h3>Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù‚ÛŒÙ…Øª (Ø³ÙˆÙ„Ù‡)</h3><button class="close-modal" onclick="closeModal('submit-shed-bid-modal')">&times;</button></div>
            <div class="modal-body">
                <div id="shed-bid-project-info" style="background: #eff6ff; padding: 10px; border-radius: 6px; margin-bottom: 20px;"></div>
                <form id="submit-shed-bid-form">
                    <input type="hidden" id="shed-bid-request-id">
                    <div class="form-group"><label for="shed-bid-price">Ù‚ÛŒÙ…Øª (Ø±ÛŒØ§Ù„)</label><input type="text" id="shed-bid-price" class="form-control" required oninput="formatPriceInput(this)"></div>
                    <div class="form-group"><label for="shed-bid-delivery">Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„ (Ø±ÙˆØ²)</label><input type="number" id="shed-bid-delivery" class="form-control" required></div>
                    <div class="form-group"><label for="shed-bid-warranty">Ú¯Ø§Ø±Ø§Ù†ØªÛŒ (Ù…Ø§Ù‡)</label><input type="number" id="shed-bid-warranty" class="form-control" value="6"></div>
                    <div class="form-group"><label for="shed-bid-notes">ØªÙˆØ¶ÛŒØ­Ø§Øª</label><textarea id="shed-bid-notes" class="form-control" rows="3"></textarea></div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('submit-shed-bid-modal')">Ø§Ù†ØµØ±Ø§Ù</button>
                <button class="btn btn-primary" onclick="submitShedBid()">Ø§Ø±Ø³Ø§Ù„</button>
            </div>
        </div>
    </div>

    <!-- Ù…ÙˆØ¯Ø§Ù„ ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ -->
    <div id="edit-bid-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h3>ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯</h3><button class="close-modal" onclick="closeModal('edit-bid-modal')">&times;</button></div>
            <div class="modal-body">
                <form id="edit-bid-form">
                    <input type="hidden" id="edit-bid-id">
                    <div class="form-group"><label for="edit-bid-price">Ù‚ÛŒÙ…Øª (Ø±ÛŒØ§Ù„)</label><input type="text" id="edit-bid-price" class="form-control" required oninput="formatPriceInput(this)"></div>
                    <div class="form-group"><label for="edit-bid-delivery">Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„ (Ø±ÙˆØ²)</label><input type="number" id="edit-bid-delivery" class="form-control" required></div>
                    <div class="form-group"><label for="edit-bid-warranty">Ú¯Ø§Ø±Ø§Ù†ØªÛŒ (Ù…Ø§Ù‡)</label><input type="number" id="edit-bid-warranty" class="form-control"></div>
                    <div class="form-group"><label for="edit-bid-notes">ØªÙˆØ¶ÛŒØ­Ø§Øª</label><textarea id="edit-bid-notes" class="form-control" rows="3"></textarea></div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('edit-bid-modal')">Ø§Ù†ØµØ±Ø§Ù</button>
                <button class="btn btn-primary" onclick="updateBid()">Ø°Ø®ÛŒØ±Ù‡</button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section"><h3>B2BSteel</h3><p>Ù¾Ù„ØªÙØ±Ù… ØªØ®ØµØµÛŒ Ù‚Ø§Ù„Ø¨ ÙÙ„Ø²ÛŒ Ø¨ØªÙ† Ùˆ Ø³ÙˆÙ„Ù‡</p></div>
                <div class="footer-section"><h3>Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§</h3><ul><li><a href="#" onclick="showPage('home')">Ø®Ø§Ù†Ù‡</a></li><li><a href="#" onclick="showPage('concrete-formwork')">Ù‚Ø§Ù„Ø¨ Ø¨ØªÙ†</a></li><li><a href="#" onclick="showPage('shed')">Ø³ÙˆÙ„Ù‡</a></li><li><a href="#" onclick="showPage('terms')">Ù‚ÙˆØ§Ù†ÛŒÙ†</a></li></ul></div>
            </div>
            <div class="footer-bottom"><p>Â© Û±Û´Û°Û´ B2BSteel</p></div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        const supabaseUrl = 'https://vohwipmyblmvyxiguknv.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvaHdpcG15Ymxtdnl4aWd1a252Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzgwMTU0MzEsImV4cCI6MjA1MzU5MTQzMX0.nQ0F3_YnD1oWUgpX_iI4GXHrY2T4iHx8VQkGj6Q8RjY';
        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

        let currentUser = JSON.parse(localStorage.getItem('current_user')) || null;
        let selectedUserType = 'buyer';
        let selectedUserLegalType = 'company';
        let selectedSellerType = 'formwork';

        function showPage(pageId) {
            document.querySelectorAll('.modal').forEach(m => m.classList.remove('active'));
            document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
            document.getElementById(pageId + '-page').classList.remove('hidden');
            updateNavigation();
            if (pageId === 'dashboard' && currentUser?.userType === 'buyer') loadBuyerDashboard();
            else if (pageId === 'seller-formwork-dashboard') loadFormworkSellerDashboard();
            else if (pageId === 'seller-shed-dashboard') loadShedSellerDashboard();
            else if (pageId === 'home') initImageSlider();
        }

        function updateNavigation() {
            const auth = document.getElementById('auth-buttons');
            const user = document.getElementById('user-menu');
            const sf = document.getElementById('seller-formwork-menu');
            const ss = document.getElementById('seller-shed-menu');
            const admin = document.getElementById('admin-menu');
            if (!auth) return;
            if (currentUser) {
                auth.classList.add('hidden');
                if (currentUser.isAdmin) { admin?.classList.remove('hidden'); user?.classList.add('hidden'); sf?.classList.add('hidden'); ss?.classList.add('hidden'); }
                else if (currentUser.userType === 'buyer') { user?.classList.remove('hidden'); admin?.classList.add('hidden'); sf?.classList.add('hidden'); ss?.classList.add('hidden'); }
                else if (currentUser.userType === 'seller' && currentUser.sellerType === 'formwork') { sf?.classList.remove('hidden'); user?.classList.add('hidden'); admin?.classList.add('hidden'); ss?.classList.add('hidden'); }
                else if (currentUser.userType === 'seller' && currentUser.sellerType === 'shed') { ss?.classList.remove('hidden'); user?.classList.add('hidden'); admin?.classList.add('hidden'); sf?.classList.add('hidden'); }
            } else { auth.classList.remove('hidden'); user?.classList.add('hidden'); sf?.classList.add('hidden'); ss?.classList.add('hidden'); admin?.classList.add('hidden'); }
        }

        function formatPriceInput(input) {
            let val = input.value.replace(/[^\dÛ°Û±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹]/g, '').replace(/[Û°-Û¹]/g, d => 'Û°Û±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹'.indexOf(d));
            if (val) input.value = parseInt(val).toLocaleString('fa-IR');
            else input.value = '';
        }

        function initImageSlider() {
            const images = document.querySelectorAll('.slider-image');
            if (!images.length) return;
            let i = 0;
            setInterval(() => {
                images[i].classList.remove('active');
                i = (i + 1) % images.length;
                images[i].classList.add('active');
            }, 10000);
        }

        async function loadBuyerDashboard() {
            if (!currentUser) return;
            document.getElementById('user-name').textContent = currentUser.full_name || currentUser.email;
            document.getElementById('user-avatar').textContent = (currentUser.full_name || '?').charAt(0).toUpperCase();
            const { count: conc } = await supabase.from('concrete_requests').select('*', { count: 'exact', head: true }).eq('user_id', currentUser.id);
            const { count: shed } = await supabase.from('shed_requests').select('*', { count: 'exact', head: true }).eq('user_id', currentUser.id);
            document.getElementById('dashboard-stats').innerHTML = `
                <div class="stat-card"><h3>Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù‚Ø§Ù„Ø¨</h3><div class="value">${conc || 0}</div></div>
                <div class="stat-card"><h3>Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø³ÙˆÙ„Ù‡</h3><div class="value">${shed || 0}</div></div>
            `;
        }

        window.loadBuyerConcreteRequests = async function() {
            if (!currentUser) return;
            const { data: requests } = await supabase.from('concrete_requests').select('*').eq('user_id', currentUser.id).order('created_at', { ascending: false });
            const container = document.getElementById('dashboard-content');
            if (!requests?.length) { container.innerHTML = '<div class="requests-list"><div class="request-item"><p style="text-align: center;">Ø¯Ø±Ø®ÙˆØ§Ø³ØªÛŒ Ù†ÛŒØ³Øª</p></div></div>'; return; }
            let html = '<div class="requests-list">';
            requests.forEach(r => {
                html += `<div class="request-item">
                    <div class="request-header"><span class="request-title">${r.title || 'Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†'}</span><span class="request-badge badge-open">${r.status || 'Ø¨Ø§Ø²'}</span></div>
                    <div class="request-details"><div>${r.description || ''}</div><div>${r.project_location || ''}</div></div>
                    <div class="request-actions">
                        <button class="btn btn-info btn-sm" onclick="viewRequestDetails('${r.id}')">Ø¬Ø²Ø¦ÛŒØ§Øª</button>
                        ${r.status === 'open' ? `<button class="btn btn-warning btn-sm" onclick="editRequest('${r.id}')">ÙˆÛŒØ±Ø§ÛŒØ´</button>` : ''}
                    </div>
                </div>`;
            });
            html += '</div>';
            container.innerHTML = html;
        };

        window.loadBuyerShedRequests = async function() {
            if (!currentUser) return;
            const { data: requests } = await supabase.from('shed_requests').select('*').eq('user_id', currentUser.id).order('created_at', { ascending: false });
            const container = document.getElementById('dashboard-content');
            if (!requests?.length) { container.innerHTML = '<div class="requests-list"><div class="request-item"><p style="text-align: center;">Ø¯Ø±Ø®ÙˆØ§Ø³ØªÛŒ Ù†ÛŒØ³Øª</p></div></div>'; return; }
            let html = '<div class="requests-list">';
            requests.forEach(r => {
                const dims = r.dimensions || {};
                html += `<div class="request-item">
                    <div class="request-header"><span class="request-title">Ø³ÙˆÙ„Ù‡ ${dims.length || '?'}Ã—${dims.width || '?'}</span><span class="request-badge badge-open">${r.status || 'Ø¨Ø§Ø²'}</span></div>
                    <div class="request-details"><div>${r.usage || ''}</div><div>${r.location || ''}</div></div>
                    <div class="request-actions">
                        <button class="btn btn-info btn-sm" onclick="viewShedRequestDetails('${r.id}')">Ø¬Ø²Ø¦ÛŒØ§Øª</button>
                        ${r.status === 'open' ? `<button class="btn btn-warning btn-sm" onclick="editShedRequest('${r.id}')">ÙˆÛŒØ±Ø§ÛŒØ´</button>` : ''}
                    </div>
                </div>`;
            });
            html += '</div>';
            container.innerHTML = html;
        };

        window.loadFormworkSellerOpenRequests = async function() {
            const { data: requests } = await supabase.from('concrete_requests').select('*').eq('status', 'open').order('created_at', { ascending: false });
            const container = document.getElementById('seller-formwork-dashboard-content');
            if (!requests?.length) { container.innerHTML = '<div class="requests-list"><div class="request-item"><p style="text-align: center;">Ø¯Ø±Ø®ÙˆØ§Ø³ØªÛŒ Ù†ÛŒØ³Øª</p></div></div>'; return; }
            let html = '<div class="requests-list">';
            requests.forEach(r => {
                html += `<div class="request-item">
                    <div class="request-header"><span class="request-title">${r.title || 'Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†'}</span><span class="request-badge badge-open">Ø¨Ø§Ø²</span></div>
                    <div class="request-details"><div>${r.description || ''}</div><div>${r.project_location || ''}</div></div>
                    <div class="request-actions">
                        <button class="btn btn-primary btn-sm" onclick="openBidModal('${r.id}', '${r.title}')">Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯</button>
                        <button class="btn btn-info btn-sm" onclick="viewRequestDetails('${r.id}')">Ø¬Ø²Ø¦ÛŒØ§Øª</button>
                    </div>
                </div>`;
            });
            html += '</div>';
            container.innerHTML = html;
        };

        window.loadShedSellerOpenRequests = async function() {
            const { data: requests } = await supabase.from('shed_requests').select('*').eq('status', 'open').order('created_at', { ascending: false });
            const container = document.getElementById('seller-shed-dashboard-content');
            if (!requests?.length) { container.innerHTML = '<div class="requests-list"><div class="request-item"><p style="text-align: center;">Ø¯Ø±Ø®ÙˆØ§Ø³ØªÛŒ Ù†ÛŒØ³Øª</p></div></div>'; return; }
            let html = '<div class="requests-list">';
            requests.forEach(r => {
                const dims = r.dimensions || {};
                html += `<div class="request-item">
                    <div class="request-header"><span class="request-title">Ø³ÙˆÙ„Ù‡ ${dims.length || '?'}Ã—${dims.width || '?'}</span><span class="request-badge badge-open">Ø¨Ø§Ø²</span></div>
                    <div class="request-details"><div>${r.usage || ''}</div><div>${r.location || ''}</div></div>
                    <div class="request-actions">
                        <button class="btn btn-primary btn-sm" onclick="openShedBidModal('${r.id}', 'Ø³ÙˆÙ„Ù‡ ${dims.length}x${dims.width}')">Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯</button>
                        <button class="btn btn-info btn-sm" onclick="viewShedRequestDetails('${r.id}')">Ø¬Ø²Ø¦ÛŒØ§Øª</button>
                    </div>
                </div>`;
            });
            html += '</div>';
            container.innerHTML = html;
        };

        window.viewRequestDetails = async function(id) {
            const { data } = await supabase.from('concrete_requests').select('*').eq('id', id).single();
            alert(`Ø¹Ù†ÙˆØ§Ù†: ${data.title}\nØªÙˆØ¶ÛŒØ­Ø§Øª: ${data.description}\nÙ…Ú©Ø§Ù†: ${data.project_location}\nÙ…Ù‡Ù„Øª: ${data.deadline}`);
        };

        window.viewShedRequestDetails = async function(id) {
            const { data } = await supabase.from('shed_requests').select('*').eq('id', id).single();
            const dims = data.dimensions || {};
            alert(`Ø§Ø¨Ø¹Ø§Ø¯: ${dims.length}x${dims.width}x${dims.height}\nÚ©Ø§Ø±Ø¨Ø±Ø¯: ${data.usage}\nÙ…Ú©Ø§Ù†: ${data.location}`);
        };

        window.openBidModal = function(requestId, title) {
            document.getElementById('bid-request-id').value = requestId;
            document.getElementById('bid-project-info').innerHTML = `<strong>Ù¾Ø±ÙˆÚ˜Ù‡:</strong> ${title}`;
            document.getElementById('submit-bid-modal').classList.add('active');
        };

        window.openShedBidModal = function(requestId, title) {
            document.getElementById('shed-bid-request-id').value = requestId;
            document.getElementById('shed-bid-project-info').innerHTML = `<strong>Ù¾Ø±ÙˆÚ˜Ù‡:</strong> ${title}`;
            document.getElementById('submit-shed-bid-modal').classList.add('active');
        };

        window.submitBid = async function() {
            const requestId = document.getElementById('bid-request-id').value;
            const price = parseInt(document.getElementById('bid-price').value.replace(/[^\d]/g, '')) || 0;
            const delivery = parseInt(document.getElementById('bid-delivery').value);
            const warranty = parseInt(document.getElementById('bid-warranty').value) || 0;
            const notes = document.getElementById('bid-notes').value;
            if (!price || !delivery) return alert('Ù‚ÛŒÙ…Øª Ùˆ Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
            const { data: { user } } = await supabase.auth.getUser();
            if (!user) return alert('Ø®Ø·Ø§');
            const { error } = await supabase.from('bids').insert([{ request_id: requestId, seller_id: user.id, price, delivery_days: delivery, warranty_months: warranty, notes }]);
            if (error) alert(error.message); else { alert('Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯'); closeModal('submit-bid-modal'); }
        };

        window.submitShedBid = async function() {
            const requestId = document.getElementById('shed-bid-request-id').value;
            const price = parseInt(document.getElementById('shed-bid-price').value.replace(/[^\d]/g, '')) || 0;
            const delivery = parseInt(document.getElementById('shed-bid-delivery').value);
            const warranty = parseInt(document.getElementById('shed-bid-warranty').value) || 0;
            const notes = document.getElementById('shed-bid-notes').value;
            if (!price || !delivery) return alert('Ù‚ÛŒÙ…Øª Ùˆ Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
            const { data: { user } } = await supabase.auth.getUser();
            if (!user) return alert('Ø®Ø·Ø§');
            const { error } = await supabase.from('shed_bids').insert([{ request_id: requestId, seller_id: user.id, price, delivery_days: delivery, warranty_months: warranty, notes }]);
            if (error) alert(error.message); else { alert('Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯'); closeModal('submit-shed-bid-modal'); }
        };

        window.closeModal = function(id) { document.getElementById(id).classList.remove('active'); };
        window.toggleDrawingUpload = function(show) { document.getElementById('drawing-upload-section').classList.toggle('hidden', !show); };
        window.toggleCraneDetails = function(show) { document.getElementById('crane-details-section').classList.toggle('hidden', !show); };
        window.toggleOtherPaintType = function() { document.getElementById('other-paint-type').classList.toggle('hidden', document.getElementById('paint-type').value !== 'other'); };
        window.loadSecondhandSheds = function() { showPage('secondhand-shed'); };

        window.showNewConcreteRequestModal = function() { document.getElementById('new-concrete-request-modal').classList.add('active'); };
        window.showNewShedRequestModal = function() { document.getElementById('new-shed-request-modal').classList.add('active'); };

        window.submitNewConcreteRequest = async function() {
            const { data: { user } } = await supabase.auth.getUser();
            if (!user) return alert('ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯');
            const title = document.getElementById('concrete-title').value;
            const desc = document.getElementById('concrete-description').value;
            const loc = document.getElementById('concrete-location').value;
            const deadline = document.getElementById('concrete-deadline').value;
            if (!title || !desc || !loc || !deadline) return alert('Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯');
            const { error } = await supabase.from('concrete_requests').insert([{ user_id: user.id, title, description: desc, project_location: loc, deadline, status: 'open' }]);
            if (error) alert(error.message); else { alert('Ø«Ø¨Øª Ø´Ø¯'); closeModal('new-concrete-request-modal'); loadBuyerConcreteRequests(); }
        };

        window.submitNewShedRequest = async function() {
            const { data: { user } } = await supabase.auth.getUser();
            if (!user) return alert('ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯');
            const dims = {
                length: parseFloat(document.getElementById('shed-req-length').value),
                width: parseFloat(document.getElementById('shed-req-width').value),
                height: parseFloat(document.getElementById('shed-req-height').value)
            };
            const usage = document.getElementById('shed-req-usage').value;
            const location = document.getElementById('shed-req-location').value;
            const deadline = document.getElementById('shed-req-deadline').value;
            if (!dims.length || !dims.width || !dims.height || !usage || !location || !deadline) return alert('Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯');
            const { error } = await supabase.from('shed_requests').insert([{ user_id: user.id, dimensions: dims, usage, location, deadline, status: 'open' }]);
            if (error) alert(error.message); else { alert('Ø«Ø¨Øª Ø´Ø¯'); closeModal('new-shed-request-modal'); loadBuyerShedRequests(); }
        };

        document.getElementById('register-form')?.addEventListener('submit', async (e) => {
            e.preventDefault();
            const pwd = document.getElementById('reg-password').value;
            if (pwd !== document.getElementById('reg-password-confirm').value) return alert('Ø±Ù…Ø² Ù…Ø·Ø§Ø¨Ù‚Øª Ù†Ø¯Ø§Ø±Ø¯');
            const { data, error } = await supabase.auth.signUp({ email: document.getElementById('reg-email').value, password: pwd });
            if (error) alert(error.message);
            else { alert('Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ù…ÙˆÙÙ‚'); showPage('login'); }
        });

        document.getElementById('login-form')?.addEventListener('submit', async (e) => {
            e.preventDefault();
            const { data, error } = await supabase.auth.signInWithPassword({ email: document.getElementById('login-email').value, password: document.getElementById('login-password').value });
            if (error) document.getElementById('login-error').textContent = 'Ø§ÛŒÙ…ÛŒÙ„ ÛŒØ§ Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡';
            else {
                const { data: profile } = await supabase.from('profiles').select('*').eq('user_id', data.user.id).single();
                currentUser = { id: data.user.id, email: data.user.email, userType: profile?.user_type, sellerType: profile?.seller_type, full_name: profile?.full_name, isAdmin: profile?.role === 'admin' };
                localStorage.setItem('current_user', JSON.stringify(currentUser));
                if (currentUser.isAdmin) showPage('admin');
                else if (currentUser.userType === 'buyer') showPage('dashboard');
                else if (currentUser.userType === 'seller' && currentUser.sellerType === 'formwork') showPage('seller-formwork-dashboard');
                else if (currentUser.userType === 'seller' && currentUser.sellerType === 'shed') showPage('seller-shed-dashboard');
            }
        });

        document.getElementById('new-shed-form')?.addEventListener('submit', async (e) => {
            e.preventDefault();
            const { data: { user } } = await supabase.auth.getUser();
            if (!user) return alert('ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯');
            const dims = {
                length: parseFloat(document.getElementById('shed-length').value),
                width: parseFloat(document.getElementById('shed-width').value),
                height: parseFloat(document.getElementById('shed-height').value)
            };
            const usage = document.getElementById('shed-usage').value;
            const location = document.getElementById('shed-location').value;
            const hasDrawing = document.querySelector('input[name="has-drawing"]:checked')?.value === 'yes';
            const needsCrane = document.querySelector('input[name="needs-crane"]:checked')?.value === 'yes';
            const craneTonnage = needsCrane ? parseFloat(document.getElementById('crane-tonnage').value) : null;
            const foundation = document.querySelector('input[name="foundation"]:checked')?.value;
            const sandblast = document.querySelector('input[name="sandblast"]:checked')?.value;
            const paintType = document.getElementById('paint-type').value;
            const otherPaint = document.getElementById('other-paint-type').value;
            const paintThickness = parseInt(document.getElementById('paint-thickness').value);
            const responsibilities = Array.from(document.querySelectorAll('input[name="responsibility"]:checked')).map(cb => cb.value);
            const weight = document.getElementById('shed-weight').value || null;
            const priceType = document.querySelector('input[name="price-type"]:checked')?.value;
            const { error } = await supabase.from('shed_requests').insert([{
                user_id: user.id, dimensions: dims, usage, location, has_drawing: hasDrawing, needs_crane: needsCrane, crane_tonnage: craneTonnage,
                foundation, sandblast, paint_type: paintType, other_paint_type: otherPaint, paint_thickness: paintThickness,
                buyer_responsibilities: responsibilities, weight, price_type: priceType, status: 'open'
            }]);
            if (error) alert(error.message); else { alert('Ø«Ø¨Øª Ø´Ø¯'); showPage('shed'); e.target.reset(); }
        });

        showPage('home');
    </script>
</body>
</html>